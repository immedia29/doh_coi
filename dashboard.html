<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>COI Dashboard</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <header class="header-bar">
      <div class="logo"><span class="logo-icon-placeholder"></span> <span class="logo-text">COI</span></div>
      <a href="index.html" class="logout-button">Logout</a>
    </header>
    <div class="dashboard-wrapper">
      <main class="main-content">
        <div class="welcome-container">
          <!-- Display the logged-in user's name -->
          <h1>Welcome, .</h1>
          <p>Learn more about COI.</p>
        </div>

        <div class="info-container">
          <nav class="info-tabs">
            <button type="button" class="tab-link active" data-tab="disclaimer">Disclaimer</button>
            <button type="button" class="tab-link" data-tab="who-we-are">Who We Are</button>
            <button type="button" class="tab-link" data-tab="about-coi">About COI</button>
            <button type="button" class="tab-link" data-tab="contact-us">Contact Us</button>
          </nav>
          <div class="info-content-wrapper">
            <div class="info-content">
              <div id="disclaimer" class="tab-content active">
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.</p>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi.</p>
                <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.</p>
              </div>
              <div id="who-we-are" class="tab-content">
                <p>Content for "Who We Are".</p>
              </div>
              <div id="about-coi" class="tab-content">
                <p>Content for "About COI".</p>
              </div>
              <div id="contact-us" class="tab-content">
                <p>Content for "Contact Us".</p>
              </div>
            </div>
          </div>
        </div>

        <div class="start-button-container">
          <button id="startButton" class="start-button">Start using COI <img src="images/next-btn.png" alt="next button" /></button>
        </div>
      </main>

      <div class="action-section">
        <div class="welcome-container">
          <!-- Display the logged-in user's name -->
          <h1>Welcome, .</h1>
          <p>What would you like to do?</p>
        </div>

        <div class="action-buttons-container">
          <a href="fill_survey.html" class="action-button fill-survey-btn" id="fillSurveyBtn">
            <img src="images/fill-upSurvey.png" alt="Fill-up Survey Icon" class="button-icon" />
          </a>

          <a href="" class="action-button edit-survey-btn" id="editSurveyBtn">
            <img src="images/editSurvey.png" alt="Edit Survey Icon" class="button-icon" />
          </a>
        </div>
      </div>
    </div>
    <img src="images/wave.png" alt="background" class="backgroundWave" />

    <div class="status-modal-overlay" id="statusModal" style="display: none">
      <div class="status-modal-content">
        <h3>Thank you!</h3>
        <p id="statusModalMessage"></p>

        <button type="button" id="closeStatusModalBtn" class="status-modal-close-btn">Close</button>
      </div>
    </div>
    <script src="js/main.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const statusModal = document.getElementById('statusModal');
        const closeBtn = document.getElementById('closeStatusModalBtn');
        const modalMessage = document.getElementById('statusModalMessage');

        const urlParams = new URLSearchParams(window.location.search);
        const status = urlParams.get('status');

        if (status === 'draft_saved') {
          if (modalMessage) {
            modalMessage.textContent = 'Your survey has been saved as draft.';
          }
          if (statusModal) {
            statusModal.style.display = 'flex';
          }
        } else if (status === 'final_submitted') {
          if (modalMessage) {
            modalMessage.textContent = 'Your survey has been successfully submitted for review.';
          }
          if (statusModal) {
            statusModal.style.display = 'flex';
          }
        }

        if (closeBtn) {
          closeBtn.addEventListener('click', function () {
            if (statusModal) {
              statusModal.style.display = 'none';
            }
          });
        }
      });
    </script>
  </body>
</html>
